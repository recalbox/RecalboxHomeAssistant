type: vertical-stack
title: Recalbox (retro gaming)
cards:
  - type: entities
    entities:
      - entity: switch.recalbox_global
        icon: mdi:gamepad-variant-outline
        secondary_info: last-changed
  - type: entities
    visibility:
      - condition: state
        entity: binary_sensor.recalbox_rpi3
        state: "on"
    entities:
      - type: attribute
        entity: binary_sensor.recalbox_rpi3
        attribute: console
        name: Console
        icon: mdi:sony-playstation
      - type: attribute
        entity: binary_sensor.recalbox_rpi3
        attribute: game
        name: Game
        icon: mdi:gamepad-variant-outline
      - type: attribute
        entity: binary_sensor.recalbox_rpi3
        attribute: genre
        name: Genre
        icon: mdi:folder-outline
    show_header_toggle: false
    state_color: false
    footer:
      type: buttons
      entities:
        - entity: button.recalbox_shutdown
          name: Turn off
        - entity: button.recalbox_reboot
          name: Reboot
        - entity: button.recalbox_screenshot
          name: Screenshot
  - type: markdown
    visibility:
      - condition: state
        entity: binary_sensor.recalbox_rpi3
        state: "on"
    content: |-
      <center>
      <img src="{{ state_attr('binary_sensor.recalbox_rpi3', 'imageUrl') }}">
      </center>
    text_only: true
  - type: conditional
    conditions:
      - entity: binary_sensor.recalbox_rpi3
        state: invisible
    card:
      type: entities
      entities:
        - type: attribute
          entity: binary_sensor.recalbox_rpi3
          attribute: rom
          name: Rom
          icon: mdi:file
  - type: markdown
    content: >-
      ---

      <small> {{ device_attr('binary_sensor.recalbox_rpi3', 'name') }} version
      {{ states('sensor.recalbox_firmware_version') 
        if states('sensor.recalbox_firmware_version') is not none 
        else device_attr('binary_sensor.recalbox_rpi3', 'sw_version') 
      }}{%- if states('sensor.recalbox_hardware') %}, {{
        states('sensor.recalbox_hardware') }}{% endif -%}
      .

      [Web manager Recalbox]({{
      device_attr('binary_sensor.recalbox_rpi3', 'configuration_url') }})

      [Github de l'int√©gration](https://github.com/tototo23/RecalboxHomeAssistant) </small>
    text_only: true
